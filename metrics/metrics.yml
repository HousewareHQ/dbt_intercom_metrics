version: 2
sources: []
models: []
metrics:
- name: intercom_monthly_ticket_volume
  label: Intercom Monthly Ticket Volume
  model: ref('intercom_main_conversations')
  description: Number of intercom tickets generated monthly
  type: count_distinct
  sql: CONVERSATION_ID
  timestamp: CREATED_AT
  time_grains: [month]
  filters: []
  dimensions: []
- name: intercom_monthly_closed_tickets
  label: Intercom Monthly Closed Tickets
  model: ref('intercom_main_conversations')
  description: Number of tickets closed monthly
  type: sum
  sql: CONVERSATION_IS_CLOSED
  timestamp: CREATED_AT
  time_grains: [month]
  filters: []
  dimensions: []
- name: intercom_monthly_open_tickets
  label: Intercom Monthly Open Tickets
  model: ref('intercom_main_conversations')
  description: Number of monthly open tickets
  type: count
  sql: state
  timestamp: CREATED_AT
  time_grains: [month]
  filters:
    - field: state
      operator: ""=""
      value: "'open'"
  dimensions: []  
- name: intercom_monthly_resolution_rate
  label: Intercom Monthly Resolution Rate
  model: ref('intercom_main_conversations')
  description: Percentage of tickets closed monthly
  type: average
  sql: CONVERSATION_IS_CLOSED
  timestamp: CREATED_AT
  time_grains: [month]
  filters: []
  dimensions: []  
    